/* Generated by Nimrod Compiler v0.8.8 */
/*   (c) 2009 Andreas Rumpf */
/* Compiled for: Windows, i386, gcc */
/* Command for C compiler:
   C:\Programy\nimrod\dist\mingw\bin\gcc.exe -c  -w  -IC:\Programy\nimrod\lib -o nimcache\lib\impure\dialogs.o nimcache\lib\impure\dialogs.c */

typedef long int NI;
typedef unsigned long int NU;
#include "nimbase.h"

typedef struct TY38531 TY38531;
typedef struct NimStringDesc NimStringDesc;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct TGenericSeq TGenericSeq;
typedef struct TY80215 TY80215;
typedef struct TY3985 TY3985;
typedef struct TY8802 TY8802;
typedef struct TY8818 TY8818;
typedef struct TY9190 TY9190;
typedef struct TY8814 TY8814;
typedef struct TY8810 TY8810;
typedef struct TY9188 TY9188;
typedef struct TY75276 TY75276;
typedef struct TY75286 TY75286;
typedef struct TY38519 TY38519;
typedef struct TY38511 TY38511;
typedef struct TY38465 TY38465;
typedef struct TY38407 TY38407;
typedef struct TY18896 TY18896;
typedef struct TY17358 TY17358;
typedef struct TY17354 TY17354;
typedef struct TY39133 TY39133;
typedef struct TY38463 TY38463;
typedef struct TY31326 TY31326;
typedef struct TY31220 TY31220;
typedef struct TY38537 TY38537;
typedef struct TY31298 TY31298;
typedef struct TY75266 TY75266;
typedef struct TY31214 TY31214;
typedef struct TY28248 TY28248;
typedef struct TY31276 TY31276;
typedef struct TY31352 TY31352;
typedef struct TY31240 TY31240;
typedef struct TY39115 TY39115;
typedef struct TY17380 TY17380;
typedef struct TY31346 TY31346;
struct TNimType {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
};
struct TGenericSeq {
NI len;
NI space;
};
typedef NIM_CHAR TY239[100000001];
struct NimStringDesc {
  TGenericSeq Sup;
TY239 data;
};
typedef N_STDCALL_PTR(NI32, TY87565) (NI Hwnd_87566, NCSTRING Lptext_87567, NCSTRING Lpcaption_87568, NI Utype_87569);
typedef N_STDCALL_PTR(NI, TY68031) (NI Para1_68139, NI Para2_68140, NI Para3_68141, NI Para4_68142);
struct TY80215 {
NI32 Lstructsize;
NI Hwndowner;
NI Hinstance;
NCSTRING Lpstrfilter;
NCSTRING Lpstrcustomfilter;
NI32 Nmaxcustfilter;
NI32 Nfilterindex;
NCSTRING Lpstrfile;
NI32 Nmaxfile;
NCSTRING Lpstrfiletitle;
NI32 Nmaxfiletitle;
NCSTRING Lpstrinitialdir;
NCSTRING Lpstrtitle;
NI32 Flags;
NI16 Nfileoffset;
NI16 Nfileextension;
NCSTRING Lpstrdefext;
NI Lcustdata;
TY68031 Lpfnhook;
NCSTRING Lptemplatename;
void* Pvreserved;
NI32 Dwreserved;
NI32 Flagsex;
};
typedef NIM_CHAR TY122807[2048];
typedef N_STDCALL_PTR(NI32, TY92997) (TY80215* Para1_92998);
typedef NIM_CHAR TY123012[8189];
struct TNimNode {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY8802 {
NI Refcount;
TNimType* Typ;
};
struct TY8818 {
NI Len;
NI Cap;
TY8802** D;
};
struct TY8814 {
NI Counter;
NI Max;
TY8810* Head;
TY8810** Data;
};
struct TY9188 {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
};
struct TY9190 {
TY8818 Zct;
TY8818 Decstack;
TY8814 Cycleroots;
TY8818 Tempstack;
TY9188 Stat;
};
typedef N_STDCALL_PTR(NI32, TY93000) (TY80215* Para1_93001);
typedef N_STDCALL_PTR(NI32, TY68017) (NI Para1_68114, NI Para2_68115, NI Para3_68116, NI Para4_68117);
struct TY75286 {
NI Hwndowner;
TY75276* Pidlroot;
NCSTRING Pszdisplayname;
NCSTRING Lpsztitle;
NI Ulflags;
TY68017 Lpfn;
NI Lparam;
NI32 Iimage;
};
typedef NIM_CHAR TY123408[261];
typedef N_STDCALL_PTR(TY75276*, TY98090) (TY75286* Para1_98091);
typedef N_STDCALL_PTR(NI32, TY98113) (TY75276* Para1_98114, NCSTRING Para2_98115);
struct TY17358 {
TY17354* Gclass;
};
struct TY18896 {
TY17358 Gtypeinstance;
NI32 Refcount;
void* Qdata;
};
struct TY38407 {
  TY18896 Sup;
NI32 Flags;
};
struct TY38463 {
NI32 Width;
NI32 Height;
};
struct TY31326 {
NI32 X;
NI32 Y;
NI32 Width;
NI32 Height;
};
struct TY38465 {
  TY38407 Sup;
NI16 Privateflags;
NI8 State;
NI8 Savedstate;
NCSTRING Name;
TY39133* Style;
TY38463 Requisition;
TY31326 Allocation;
TY31220* Window;
TY38465* Parent;
};
struct TY38511 {
  TY38465 Sup;
TY38465* Focuschild;
NI32 Containerflag0;
};
struct TY38519 {
  TY38511 Sup;
TY38465* Child;
};
struct TY38531 {
  TY38519 Sup;
NCSTRING Title;
NCSTRING Wmclassname;
NCSTRING Wmclassclass;
NCSTRING Wmrole;
TY38465* Focuswidget;
TY38465* Defaultwidget;
TY38531* Transientparent;
void* Geometryinfo;
TY31220* Frame;
TY38537* Group;
NI16 Configurerequestcount;
NI32 Windowflag0;
NI32 Frameleft;
NI32 Frametop;
NI32 Frameright;
NI32 Framebottom;
NI32 Keyschangedhandler;
NI32 Mnemonicmodifier;
TY31298* Screen;
};
typedef NI TY7014[16];
struct TY8810 {
TY8810* Next;
NI Key;
TY7014 Bits;
};
typedef NI8 TY75646[1];
struct TY75266 {
NI16 Cb;
TY75646 Abid;
};
struct TY75276 {
TY75266 Mkid;
};
struct TY17354 {
NI Gtype;
};
struct TY31214 {
NI32 Pixel;
NI16 Red;
NI16 Green;
NI16 Blue;
};
typedef TY31214 TY42275[5];
typedef TY31276* TY42304[5];
typedef TY31220* TY42330[5];
struct TY39133 {
  TY18896 Sup;
TY42275 Fg;
TY42275 Bg;
TY42275 Light;
TY42275 Dark;
TY42275 Mid;
TY42275 Text;
TY42275 Base;
TY42275 Textaa;
TY31214 Black;
TY31214 White;
TY28248* Fontdesc;
NI32 Xthickness;
NI32 Ythickness;
TY42304 Fggc;
TY42304 Bggc;
TY42304 Lightgc;
TY42304 Darkgc;
TY42304 Midgc;
TY42304 Textgc;
TY42304 Basegc;
TY42304 Textaagc;
TY31276* Blackgc;
TY31276* Whitegc;
TY42330 Bgpixmap;
NI32 Attachcount;
NI32 Depth;
TY31352* Colormap;
TY31240* Privatefont;
TY28248* Privatefontdesc;
TY39115* Rcstyle;
TY17380* Styles;
void* Propertycache;
TY17380* Iconfactories;
};
struct TY31220 {
  TY18896 Sup;
};
struct TY38537 {
  TY18896 Sup;
TY17380* Grabs;
};
struct TY31298 {
  TY18896 Sup;
};
struct TY28248 {
char dummy;
};
struct TY31276 {
  TY18896 Sup;
NI32 Clipxorigin;
NI32 Clipyorigin;
NI32 Tsxorigin;
NI32 Tsyorigin;
TY31352* Colormap;
};
struct TY31352 {
  TY18896 Sup;
NI32 Size;
TY31214* Colors;
TY31346* Visual;
void* Windowingdata;
TY31298* Screen;
};
struct TY31240 {
NU8 Type;
NI32 Ascent;
NI32 Descent;
};
typedef NCSTRING TY42173[5];
typedef NI32 TY42177[5];
struct TY39115 {
  TY18896 Sup;
NCSTRING Name;
TY42173 Bgpixmapname;
TY28248* Fontdesc;
TY42177 Colorflags;
TY42275 Fg;
TY42275 Bg;
TY42275 Text;
TY42275 Base;
NI32 Xthickness;
NI32 Ythickness;
void* Rcproperties;
TY17380* Rcstylelists;
TY17380* Iconfactories;
NI16 Rcstyleflag0;
};
struct TY17380 {
void* Data;
TY17380* Next;
};
struct TY31346 {
  TY18896 Sup;
NU8 Thetype;
NI32 Depth;
NU8 Byteorder;
NI32 Colormapsize;
NI32 Bitsperrgb;
NI32 Redmask;
NI32 Redshift;
NI32 Redprec;
NI32 Greenmask;
NI32 Greenshift;
NI32 Greenprec;
NI32 Bluemask;
NI32 Blueshift;
NI32 Blueprec;
TY31298* Screen;
};
struct TY3985 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, Info_122201)(TY38531* Window_122203, NimStringDesc* Msg_122204);
N_NIMCALL(void, Warning_122404)(TY38531* Window_122406, NimStringDesc* Msg_122407);
N_NIMCALL(void, Error_122601)(TY38531* Window_122603, NimStringDesc* Msg_122604);
N_NIMCALL(NimStringDesc*, Choosefiletoopen_122801)(TY38531* Window_122803, NimStringDesc* Root_122804);
N_NIMCALL(NimStringDesc*, cstrToNimstr)(NCSTRING Str_14304);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* Src_14308);
N_NIMCALL(TY3985*, Choosefilestoopen_123005)(TY38531* Window_123007, NimStringDesc* Root_123008);
N_NIMCALL(void*, newSeq)(TNimType* Typ_9221, NI Len_9222);
N_NOINLINE(void, raiseIndexError)(void);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* S_14363, NIM_CHAR C_14364);
static N_INLINE(NI, addInt)(NI A_5203, NI B_5204);
N_NOINLINE(void, raiseOverflow)(void);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* Seq_14435, NI Elemsize_14436);
static N_INLINE(void, asgnRefNoCycle)(void** Dest_10019, void* Src_10020);
static N_INLINE(TY8802*, Usrtocell_9234)(void* Usr_9236);
N_NOINLINE(void, Addzct_9223)(TY8818* S_9226, TY8802* C_9227);
static N_INLINE(NI, subInt)(NI A_5403, NI B_5404);
N_NIMCALL(NimStringDesc*, Joinpath_116801)(NimStringDesc* Head_116803, NimStringDesc* Tail_116804);
N_NIMCALL(NimStringDesc*, Choosefiletosave_123210)(TY38531* Window_123212, NimStringDesc* Root_123213);
N_NIMCALL(NimStringDesc*, Choosedir_123401)(TY38531* Window_123403, NimStringDesc* Root_123404);
N_NIMCALL(void*, Globalfreeptr_99427)(void* Lp_99429);
STRING_LITERAL(TMP123004, "", 0);
extern TY87565 Dl_87564;
extern TY92997 Dl_92996;
extern TNimType* NTI3985; /* seq[string] */
extern TY9190 Gch_9208;
extern TY93000 Dl_92999;
extern TY98090 Dl_98089;
extern TY98113 Dl_98112;
N_NIMCALL(void, Info_122201)(TY38531* Window_122203, NimStringDesc* Msg_122204) {
NI32 LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "dialogs.info";
F.prev = framePtr;
F.filename = "C:\\Programy\\nimrod\\lib\\impure\\dialogs.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 25;
LOC2 = Dl_87564(0, Msg_122204->data, "Information", 64);
framePtr = framePtr->prev;
}
N_NIMCALL(void, Warning_122404)(TY38531* Window_122406, NimStringDesc* Msg_122407) {
NI32 LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "dialogs.warning";
F.prev = framePtr;
F.filename = "C:\\Programy\\nimrod\\lib\\impure\\dialogs.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 38;
LOC2 = Dl_87564(0, Msg_122407->data, "Warning", 48);
framePtr = framePtr->prev;
}
N_NIMCALL(void, Error_122601)(TY38531* Window_122603, NimStringDesc* Msg_122604) {
NI32 LOC2;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "dialogs.error";
F.prev = framePtr;
F.filename = "C:\\Programy\\nimrod\\lib\\impure\\dialogs.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 51;
LOC2 = Dl_87564(0, Msg_122604->data, "Error", 16);
framePtr = framePtr->prev;
}
N_NIMCALL(NimStringDesc*, Choosefiletoopen_122801)(TY38531* Window_122803, NimStringDesc* Root_122804) {
NimStringDesc* Result_122805;
TY80215 Opf_122806;
TY122807 Buf_122809;
NI32 Res_122815;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "dialogs.ChooseFileToOpen";
F.prev = framePtr;
F.filename = "C:\\Programy\\nimrod\\lib\\impure\\dialogs.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_122805 = 0;
memset((void*)&Opf_122806, 0, sizeof(Opf_122806));
memset((void*)&Buf_122809, 0, sizeof(Buf_122809));
F.line = 69;
Opf_122806.Lstructsize = ((NI32) (((NI)sizeof(TY80215))));
F.line = 70;
if (!(0 < Root_122804->Sup.len)) goto LA4;
F.line = 71;
Opf_122806.Lpstrinitialdir = Root_122804->data;
LA4: ;
F.line = 72;
Opf_122806.Lpstrfilter = "All Files\000*.*\000\000";
F.line = 73;
Opf_122806.Flags = ((NI32) 4096);
F.line = 74;
Opf_122806.Lpstrfile = ((NCSTRING) (Buf_122809));
F.line = 75;
Opf_122806.Nmaxfile = ((NI32) (((NI)sizeof(TY122807))));
Res_122815 = 0;
F.line = 76;
Res_122815 = Dl_92996(&Opf_122806);
F.line = 77;
if (!!((((NI) (Res_122815)) == 0))) goto LA14;
F.line = 78;
Result_122805 = cstrToNimstr(((NCSTRING) (Buf_122809)));
goto LA13;
LA14: ;
F.line = 80;
Result_122805 = copyString(((NimStringDesc*) &TMP123004));
LA13: ;
framePtr = framePtr->prev;
return Result_122805;
}
static N_INLINE(NI, addInt)(NI A_5203, NI B_5204) {
NI Result_5205;
NIM_BOOL LOC2;
Result_5205 = 0;
Result_5205 = (NI32)((NU32)(A_5203) + (NU32)(B_5204));
LOC2 = (0 <= (NI32)(Result_5205 ^ A_5203));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI32)(Result_5205 ^ B_5204));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5205;
}
static N_INLINE(TY8802*, Usrtocell_9234)(void* Usr_9236) {
TY8802* Result_9237;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "system.usrToCell";
F.prev = framePtr;
F.filename = "C:\\Programy\\nimrod\\lib\\system\\gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_9237 = 0;
F.line = 96;
Result_9237 = ((TY8802*) ((NI32)((NU32)(((NI) (Usr_9236))) - (NU32)(((NI) (((NI)sizeof(TY8802))))))));
framePtr = framePtr->prev;
return Result_9237;
}
static N_INLINE(void, asgnRefNoCycle)(void** Dest_10019, void* Src_10020) {
TY8802* C_10021;
TY8802* C_10022;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "system.asgnRefNoCycle";
F.prev = framePtr;
F.filename = "C:\\Programy\\nimrod\\lib\\system\\gc.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
F.line = 253;
if (!!((Src_10020 == 0))) goto LA3;
C_10021 = 0;
F.line = 254;
C_10021 = Usrtocell_9234(Src_10020);
F.line = 255;
(*C_10021).Refcount = (NI32)((NU32)((*C_10021).Refcount) + (NU32)(8));
LA3: ;
F.line = 256;
if (!!(((*Dest_10019) == 0))) goto LA9;
C_10022 = 0;
F.line = 257;
C_10022 = Usrtocell_9234((*Dest_10019));
F.line = 258;
(*C_10022).Refcount = (NI32)((NU32)((*C_10022).Refcount) - (NU32)(8));
F.line = 259;
if (!((NU32)((*C_10022).Refcount) < (NU32)(8))) goto LA15;
F.line = 260;
Addzct_9223(&Gch_9208.Zct, C_10022);
LA15: ;
LA9: ;
F.line = 261;
(*Dest_10019) = Src_10020;
framePtr = framePtr->prev;
}
static N_INLINE(NI, subInt)(NI A_5403, NI B_5404) {
NI Result_5405;
NIM_BOOL LOC2;
Result_5405 = 0;
Result_5405 = (NI32)((NU32)(A_5403) - (NU32)(B_5404));
LOC2 = (0 <= (NI32)(Result_5405 ^ A_5403));
if (LOC2) goto LA3;
LOC2 = (0 <= (NI32)(Result_5405 ^ (NI32)((NU32) ~(B_5404))));
LA3: ;
if (!LOC2) goto LA4;
goto BeforeRet;
LA4: ;
raiseOverflow();
BeforeRet: ;
return Result_5405;
}
N_NIMCALL(TY3985*, Choosefilestoopen_123005)(TY38531* Window_123007, NimStringDesc* Root_123008) {
TY3985* Result_123010;
TY80215 Opf_123011;
TY123012 Buf_123014;
NI32 Res_123020;
NI I_123039;
NimStringDesc* S_123040;
NimStringDesc* Path_123041;
NI I_123148;
NI HEX3Atmp_123205;
NI Res_123207;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "dialogs.ChooseFilesToOpen";
F.prev = framePtr;
F.filename = "C:\\Programy\\nimrod\\lib\\impure\\dialogs.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_123010 = 0;
memset((void*)&Opf_123011, 0, sizeof(Opf_123011));
memset((void*)&Buf_123014, 0, sizeof(Buf_123014));
F.line = 104;
Opf_123011.Lstructsize = ((NI32) (((NI)sizeof(TY80215))));
F.line = 105;
if (!(0 < Root_123008->Sup.len)) goto LA4;
F.line = 106;
Opf_123011.Lpstrinitialdir = Root_123008->data;
LA4: ;
F.line = 107;
Opf_123011.Lpstrfilter = "All Files\000*.*\000\000";
F.line = 108;
Opf_123011.Flags = ((NI32) 528896);
F.line = 109;
Opf_123011.Lpstrfile = ((NCSTRING) (Buf_123014));
F.line = 110;
Opf_123011.Nmaxfile = ((NI32) (((NI)sizeof(TY123012))));
Res_123020 = 0;
F.line = 111;
Res_123020 = Dl_92996(&Opf_123011);
F.line = 112;
Result_123010 = (TY3985*) newSeq(NTI3985, 0);
F.line = 113;
if (!!((((NI) (Res_123020)) == 0))) goto LA15;
I_123039 = 0;
F.line = 116;
I_123039 = 0;
S_123040 = 0;
Path_123041 = 0;
F.line = 118;
Path_123041 = copyString(((NimStringDesc*) &TMP123004));
F.line = 119;
while (1) {
if ((NU)(I_123039) > (NU)(8188)) raiseIndexError();
if (!!(((NU8)(Buf_123014[(I_123039)-0]) == (NU8)(0)))) goto LA20;
F.line = 120;
if ((NU)(I_123039) > (NU)(8188)) raiseIndexError();
Path_123041 = addChar(Path_123041, Buf_123014[(I_123039)-0]);
F.line = 121;
I_123039 = addInt(I_123039, 1);
} LA20: ;
F.line = 122;
I_123039 = addInt(I_123039, 1);
F.line = 123;
if ((NU)(I_123039) > (NU)(8188)) raiseIndexError();
if (!!(((NU8)(Buf_123014[(I_123039)-0]) == (NU8)(0)))) goto LA26;
F.line = 124;
while (1) {
F.line = 125;
S_123040 = copyString(((NimStringDesc*) &TMP123004));
F.line = 126;
while (1) {
if ((NU)(I_123039) > (NU)(8188)) raiseIndexError();
if (!!(((NU8)(Buf_123014[(I_123039)-0]) == (NU8)(0)))) goto LA32;
F.line = 127;
if ((NU)(I_123039) > (NU)(8188)) raiseIndexError();
S_123040 = addChar(S_123040, Buf_123014[(I_123039)-0]);
F.line = 128;
I_123039 = addInt(I_123039, 1);
} LA32: ;
F.line = 129;
Result_123010 = (TY3985*) incrSeq(&(Result_123010)->Sup, sizeof(NimStringDesc*));
asgnRefNoCycle((void**) &Result_123010->data[Result_123010->Sup.len-1], copyString(S_123040));
F.line = 130;
I_123039 = addInt(I_123039, 1);
F.line = 131;
if ((NU)(I_123039) > (NU)(8188)) raiseIndexError();
if (!((NU8)(Buf_123014[(I_123039)-0]) == (NU8)(0))) goto LA39;
F.line = 131;
goto LA29;
LA39: ;
} LA29: ;
I_123148 = 0;
HEX3Atmp_123205 = 0;
F.line = 132;
HEX3Atmp_123205 = subInt(Result_123010->Sup.len, 1);
Res_123207 = 0;
F.line = 1029;
Res_123207 = 0;
F.line = 1030;
while (1) {
if (!(Res_123207 <= HEX3Atmp_123205)) goto LA45;
F.line = 1029;
I_123148 = Res_123207;
F.line = 132;
if ((NU)(I_123148) >= (NU)(Result_123010->Sup.len)) raiseIndexError();
if ((NU)(I_123148) >= (NU)(Result_123010->Sup.len)) raiseIndexError();
asgnRefNoCycle((void**) &Result_123010->data[I_123148], Joinpath_116801(Path_123041, Result_123010->data[I_123148]));
F.line = 1032;
Res_123207 = addInt(Res_123207, 1);
} LA45: ;
LA26: ;
LA15: ;
framePtr = framePtr->prev;
return Result_123010;
}
N_NIMCALL(NimStringDesc*, Choosefiletosave_123210)(TY38531* Window_123212, NimStringDesc* Root_123213) {
NimStringDesc* Result_123214;
TY80215 Opf_123215;
TY122807 Buf_123218;
NI32 Res_123224;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "dialogs.ChooseFileToSave";
F.prev = framePtr;
F.filename = "C:\\Programy\\nimrod\\lib\\impure\\dialogs.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_123214 = 0;
memset((void*)&Opf_123215, 0, sizeof(Opf_123215));
memset((void*)&Buf_123218, 0, sizeof(Buf_123218));
F.line = 161;
Opf_123215.Lstructsize = ((NI32) (((NI)sizeof(TY80215))));
F.line = 162;
if (!(0 < Root_123213->Sup.len)) goto LA4;
F.line = 163;
Opf_123215.Lpstrinitialdir = Root_123213->data;
LA4: ;
F.line = 164;
Opf_123215.Lpstrfilter = "All Files\000*.*\000\000";
F.line = 165;
Opf_123215.Flags = ((NI32) 2);
F.line = 166;
Opf_123215.Lpstrfile = ((NCSTRING) (Buf_123218));
F.line = 167;
Opf_123215.Nmaxfile = ((NI32) (((NI)sizeof(TY122807))));
Res_123224 = 0;
F.line = 168;
Res_123224 = Dl_92999(&Opf_123215);
F.line = 169;
if (!!((((NI) (Res_123224)) == 0))) goto LA14;
F.line = 170;
Result_123214 = cstrToNimstr(((NCSTRING) (Buf_123218)));
goto LA13;
LA14: ;
F.line = 172;
Result_123214 = copyString(((NimStringDesc*) &TMP123004));
LA13: ;
framePtr = framePtr->prev;
return Result_123214;
}
N_NIMCALL(NimStringDesc*, Choosedir_123401)(TY38531* Window_123403, NimStringDesc* Root_123404) {
NimStringDesc* Result_123405;
TY75276* Lpitemid_123406;
TY75286 Browseinfo_123407;
TY123408 Displayname_123410;
TY123408 Temppath_123413;
NI32 LOC10;
void* LOC13;
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "dialogs.ChooseDir";
F.prev = framePtr;
F.filename = "C:\\Programy\\nimrod\\lib\\impure\\dialogs.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
Result_123405 = 0;
Lpitemid_123406 = 0;
memset((void*)&Browseinfo_123407, 0, sizeof(Browseinfo_123407));
memset((void*)&Displayname_123410, 0, sizeof(Displayname_123410));
memset((void*)&Temppath_123413, 0, sizeof(Temppath_123413));
F.line = 200;
Result_123405 = copyString(((NimStringDesc*) &TMP123004));
F.line = 202;
Browseinfo_123407.Pszdisplayname = ((NCSTRING) (Displayname_123410));
F.line = 203;
Browseinfo_123407.Ulflags = 1;
F.line = 204;
Lpitemid_123406 = Dl_98089(((TY75286*) (&Browseinfo_123407)));
F.line = 205;
if (!!((Lpitemid_123406 == 0))) goto LA7;
F.line = 206;
LOC10 = Dl_98112(Lpitemid_123406, ((NCSTRING) (Temppath_123413)));
F.line = 207;
Result_123405 = cstrToNimstr(((NCSTRING) (Temppath_123413)));
F.line = 208;
LOC13 = Globalfreeptr_99427(((void*) (Lpitemid_123406)));
LA7: ;
framePtr = framePtr->prev;
return Result_123405;
}
N_NOINLINE(void, dialogsInit)(void) {
volatile struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename;NI len;
} F;
F.procname = "module dialogs";
F.prev = framePtr;
F.filename = "C:\\Programy\\nimrod\\lib\\impure\\dialogs.nim";
F.line = 0;
framePtr = (TFrame*)&F;
F.len = 0;
framePtr = framePtr->prev;
}

